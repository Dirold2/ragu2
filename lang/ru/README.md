# Проект Ragu2

RAGU2 - это музыкальный бот для Discord, который позволяет пользователям воспроизводить, приостанавливать и управлять музыкальными треками в голосовых каналах. Бот поддерживает интеграцию с Yandex Music и предоставляет различные команды для управления воспроизведением.

## Localization

[English](../../README.md), [__Русский__](./README.md)

## Плагины в RAGU2

В RAGU2 используется система плагинов, которая позволяет добавлять новые функции и возможности в бота. На данный момент доступны плагины музыкальных платформ:

- Yandex Music

## Установка

1. Клонируйте репозиторий:

   ```bash
   git clone https://github.com/dirold2/ragu2.git
   cd ragu2
   ```

2. Установите зависимости:

   ```bash
   npm install
   ```

3. Создайте файл `.env` в корне проекта и добавьте ваш токен Discord:

   ```env
   DISCORD_TOKEN=ваш_токен
   DATABASE_URL=ваш_url_базы_данных
   ```

## Запуск

Для запуска бота, выполните следующие шаги:

1. Заполните файл `.env`

   ```env
   # discord
   DISCORD_TOKEN=ваш_токен
   # local postgresql database or (https://supabase.com/)
   DATABASE_URL=""
   DIRECT_URL=""
   # yandex_api
   YM_USER_ID="" # https://mail.yandex.ru/
   YM_API_KEY="" # https://oauth.yandex.ru/authorize?response_type=token&client_id=23cabbbdc6cd418abb4b39c32c41195d
   ```

   Для yandex_api:

   1. [YM_USER_ID](https://mail.yandex.ru/)
   2. [YM_API_KEY](https://oauth.yandex.ru/client/23cabbbdc6cd418abb4b39c32c41195d)

   ________________________

2. Установите зависимости:

   ```bash
   pnpm i
   ```

   ________________________

3. Сгенерируйте Prisma:

   ```bash
   pnpm prisma:generate
   ```

   ________________________

4. Соберите проект:

   ```bash
   pnpm build
   ```

5. Запустите бот:

   ```bash
   pnpm start
   ```

   ________________________

   Для разработки:

   ```bash
   pnpm dev
   ```

## Команды

Бот поддерживает следующие команды:

- `/play <название_трека>` - Воспроизвести трек.
- `/pause` - Приостановить воспроизведение.
- `/skip` - Пропустить текущий трек.
- `/volume <уровень>` - Установить уровень громкости.
- `/queue` - Показать текущую очередь треков.
- `/other` - Показать другие команды.

## Структура проекта

- `config/` - Конфигурация бота.
- `.env` - Переменные окружения.
- `src/` - Исходный код бота.
- `src/commands/` - Команды бота.
- `src/services/` - Сервисы для управления логикой бота.
- `src/utils/` - Утилиты и вспомогательные функции.
- `src/locales/` - Файлы локализации для поддержки многоязычности.
- `src/types/` - Типы данных.
- `src/interfaces/` - Интерфейсы.

## TODO

Рабочий процесс:

- [x] Добавить локализацию
- [ ] Добавить прокси
- [ ] Добавить API
- [ ] Добавить "wave" для воспроизведения музыки без остановки

Плагины:

- [x] Добавить плагин для Yandex Music
- [ ] Добавить плагин для YouTube
- [ ] Добавить плагин для SoundCloud
- [ ] Добавить плагин для Apple Music
- [ ] Добавить плагин для Deezer
- [ ] Добавить плагин для Spotify
